!function(){"use strict";class e{constructor(e,t,s,i,n){this._name=e.name,this._link=e.link,this._id=e._id,this._isLiked=e.isLiked,this._cardSelector=t,this._handleImagePreview=s,this.handleDeleteCard=i,this.handleLikeClick=n}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this.handleLikeClick(this)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this.handleDeleteCard(this._id,this._cardElement)})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImagePreview({name:this._name,link:this._link})}))}toggleLike(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}handleLikeButton(e){void 0!==e&&(this._isLiked=e),this._isLiked&&this.toggleLike()}getCardElement(){const e=document.querySelector(this._cardSelector).content.firstElementChild;this._cardElement=e.cloneNode(!0);const t=this._cardElement.querySelector(".card__image"),s=this._cardElement.querySelector(".card__title");return t.src=this._link,t.alt=this._name,s.textContent=this._name,this.handleLikeButton(this._isLiked),this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._options=e,this._formElement=t,this._inputElements=Array.from(this._formElement.querySelectorAll(this._options.inputSelector)),this._submitButton=this._formElement.querySelector(this._options.submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._options.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._options.errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._options.inputErrorClass),t.textContent="",t.classList.remove(this._options.errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}disableSubmitButton=()=>{this._submitButton.classList.add(this._options.inactiveButtonClass),this._submitButton.disabled=!0};_enableSubmitButton=()=>{this._submitButton.classList.remove(this._options.inactiveButtonClass),this._submitButton.disabled=!1};_toggleButton(){this._hasInvalidInput(this._inputElements)?this.disableSubmitButton():this._enableSubmitButton()}enableValidation(){this._toggleButton(),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))})),this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._toggleButton()}))}resetValidation(){this._toggleButton(),this._inputElements.forEach((e=>{this._hideInputError(e)}))}}class s{constructor(e,t){let{items:s,renderer:i}=e;this._items=s,this._renderer=i,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}class i{constructor(e){this._popUpElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popUpElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popUpElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"keydown"===e.type&&"Escape"===e.key&&this.close()}setEventListeners(){this._closeButton=this._popUpElement.querySelector(".modal__close"),this._closeButton.addEventListener("click",(()=>{this.close()})),this._popUpElement.addEventListener("click",(e=>{"modal modal_opened"===e.target.className&&this.close()}))}}class n extends i{constructor(e,t){super(e),this._popUpForm=this._popUpElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._submitButton=this._popUpForm.querySelector(".modal__button"),this._submitButtonText=this._submitButton.textContent}setLoading(e){this._submitButton.textContent=e?"Saving...":this._submitButtonText}_getInputValues(){const e={};return this._popUpForm.querySelectorAll(".modal__input").forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._popUpForm.addEventListener("submit",(e=>{e.preventDefault(),this.setLoading(!0),this._handleFormSubmit(this._getInputValues())}))}}const r={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__error",errorClass:"modal__error_visible"},o=document.forms["edit-profile-form"],a=document.forms["add-card-form"],l=document.forms["edit-avatar-form"],d=document.querySelector("#profile-edit-button"),c=document.querySelector(".profile__add-button"),h=document.querySelector(".avatar__edit-icon"),_=document.querySelector("#profile-title-input"),m=document.querySelector("#profile-description-input"),u=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_getResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers,method:"GET"}).then(this._getResponse)}createCard(e){return fetch(`${this._baseUrl}/cards`,{headers:this._headers,method:"POST",body:JSON.stringify(e)}).then(this._getResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{headers:this._headers,method:"DELETE"}).then(this._getResponse)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{headers:this._headers,method:"PUT"}).then(this._getResponse)}dislikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{headers:this._headers,method:"DELETE"}).then(this._getResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers,method:"GET"}).then(this._getResponse)}editUserInfo(e){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers,method:"PATCH",body:JSON.stringify(e)}).then(this._getResponse)}editUserAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then(this._getResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"c00d25e4-e498-4e3f-a0a9-735cb37a7bb4","Content-Type":"application/json"}});new t(r,o).enableValidation();const p=new t(r,a);p.enableValidation();const E=new t(r,l);let v;function f(e){e._isLiked?u.dislikeCard(e._id).then((()=>{e.toggleLike(),e._isLiked=!1})).catch((e=>{console.error(`Error on Card Dislike ${e}`)})):u.likeCard(e._id).then((()=>{e.toggleLike(),e._isLiked=!0})).catch((e=>{console.error(`Error on Card Like ${e}`)}))}E.enableValidation(),u.getInitialCards().then((e=>{v=new s({items:e,renderer:e=>{const t=b(e);v.addItem(t)}},".cards__list"),v.renderItems()})).catch((e=>console.error(e)));const b=t=>new e(t,"#card-template",k,y,f).getCardElement(),g=new n("#add-card-modal",(function(e){const t=e.title.trim(),s=e.link.trim();g.close(),a.reset(),p.disableSubmitButton(),u.createCard({name:t,link:s}).then((e=>{const t=b(e);v.addItem(t)})).finally((()=>{g.setLoading(!1)}))}));g.setEventListeners(),c.addEventListener("click",(()=>{g.open()}));const L=new class extends i{constructor(e){super(e),this._popUpImage=this._popUpElement.querySelector(".modal__preview-image"),this._popUpTitle=this._popUpElement.querySelector(".modal__preview-image-heading")}open(e){let{name:t,link:s}=e;this._popUpImage.src=s,this._popUpImage.alt=t,this._popUpTitle.textContent=t,super.open()}}("#preview-image-modal");function k(e){L.open(e)}function y(e,t){C.open(e,t),console.log(e,t)}L.setEventListeners();const C=new class extends i{constructor(e,t){super(e),this._confirmButton=document.querySelector("#confirmation-modal-button"),this._handleConfirmation=t,this._setEventListeners()}open(e,t){super.open(),this._cardId=e,this._cardElement=t}_setEventListeners(){super.setEventListeners(),this._confirmButton.addEventListener("click",(()=>{this._handleConfirmation(this._cardId,this._cardElement).then((()=>{this.close()})).catch((e=>{console.error("Error Deleting Card",e)}))}))}}("#modal-confirm",((e,t)=>u.deleteCard(e).then((()=>{t.remove()})))),S=new class{constructor(e){let{name:t,description:s,avatarSelector:i}=e;this._name=document.querySelector(t),this._description=document.querySelector(s),this._avatarElement=document.querySelector(i)}getUserInfo(){const e={};return e.name=this._name.textContent,e.description=this._description.textContent,e.avatar=this._avatarElement.src,e}setUserInfo(e){let{name:t,description:s,avatar:i}=e;this._name.textContent=t,this._description.textContent=s,this.setUserAvatar(i)}setUserAvatar(e){this._avatarElement.src=e}}({name:".profile__title",description:".profile__description",avatarSelector:".profile__image"});u.getUserInfo().then((e=>{S.setUserInfo({name:e.name,description:e.about,avatar:e.avatar})})).catch((e=>console.error(e)));const U=new n("#profile-edit-modal",(function(e){u.editUserInfo({name:e.title,about:e.description}).then((e=>{S.setUserInfo({name:e.name,description:e.about,avatar:e.avatar})})).catch((e=>console.error(`Failed to update users info: ${e}`))).finally((()=>{U.setLoading(!1)})),U.close()}));U.setEventListeners(),d.addEventListener("click",(()=>{const e=S.getUserInfo();_.value=e.name,m.value=e.description,U.open()}));const I=new n("#edit-avatar-modal",(function(e){const t=e.avatar;l.reset(),I.close(),u.editUserAvatar(t).then((e=>{S.setUserAvatar(e.avatar)})).finally((()=>{I.setLoading(!1)}))}));I.setEventListeners(),h.addEventListener("click",(()=>{E.resetValidation(),I.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxNQUFNRixLQUdoQyxNQUFNNkIsRUFBbUIsSUFBSXhGLEVBQzNCLHVCQUtGLFNBQWlDZ0UsR0FDL0J6QyxFQUNHMEIsYUFBYSxDQUNaNUksS0FBTTJKLEVBQUtFLE1BQ1hxQixNQUFPdkIsRUFBS2dCLGNBRWIxQyxNQUFNWSxJQUNMNkIsRUFBU0ssWUFBWSxDQUNuQi9LLEtBQU02SSxFQUFTN0ksS0FDZjJLLFlBQWE5QixFQUFTcUMsTUFDdEJsQyxPQUFRSCxFQUFTRyxRQUNqQixJQUVISyxPQUFPQyxHQUFRQyxRQUFRQyxNQUFNLGdDQUFnQ0YsT0FDN0RVLFNBQVEsS0FDUG1CLEVBQWlCbEYsWUFBVyxFQUFNLElBR3RDa0YsRUFBaUJoRyxPQUNuQixJQXJCQWdHLEVBQWlCNUYsb0JBdUJqQnNCLEVBQWtCbEcsaUJBQWlCLFNBQVMsS0FDMUMsTUFBTXlLLEVBQWtCVixFQUFTL0IsY0FDakMzQixFQUFrQlYsTUFBUThFLEVBQWdCcEwsS0FDMUNpSCxFQUF3QlgsTUFBUThFLEVBQWdCVCxZQUNoRFEsRUFBaUJqRyxNQUFNLElBSXpCLE1BQU1tRyxFQUFrQixJQUFJMUYsRUFDMUIsc0JBVUYsU0FBb0MyRixHQUNsQyxNQUFNdkMsRUFBWXVDLEVBQVN0QyxPQUMzQnBDLEVBQXNCbUQsUUFDdEJzQixFQUFnQmxHLFFBQ2hCK0IsRUFDRzRCLGVBQWVDLEdBQ2ZkLE1BQU1ZLElBQ0w2QixFQUFTTyxjQUFjcEMsRUFBU0csT0FBTyxJQUV4Q2dCLFNBQVEsS0FDUHFCLEVBQWdCcEYsWUFBVyxFQUFNLEdBRXZDLElBbkJBb0YsRUFBZ0I5RixvQkFFaEJ3QixFQUFpQnBHLGlCQUFpQixTQUFTLEtBQ3pDd0ksRUFBb0JuRixrQkFDcEJxSCxFQUFnQm5HLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQVBJLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBjYXJkRGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VQcmV2aWV3LFxuICAgIGhhbmRsZURlbGV0ZUNhcmQsXG4gICAgaGFuZGxlTGlrZUNsaWNrXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBjYXJkRGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gY2FyZERhdGEuX2lkO1xuICAgIHRoaXMuX2lzTGlrZWQgPSBjYXJkRGF0YS5pc0xpa2VkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZVByZXZpZXcgPSBoYW5kbGVJbWFnZVByZXZpZXc7XG4gICAgdGhpcy5oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcbiAgICB0aGlzLmhhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLy5jYXJkX19saWtlLWJ1dHRvblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlTGlrZUNsaWNrKHRoaXMpO1xuICAgICAgfSk7XG5cbiAgICAvLy5jYXJkX19kZWxldGUtYnV0dG9uXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZURlbGV0ZUNhcmQodGhpcy5faWQsIHRoaXMuX2NhcmRFbGVtZW50KTtcbiAgICAgIH0pO1xuXG4gICAgLy9pbWFnZSBwcmV2aWV3IGJ1dHRvblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUltYWdlUHJldmlldyh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZUxpa2UoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIGhhbmRsZUxpa2VCdXR0b24oaXNMaWtlZCkge1xuICAgIGlmIChpc0xpa2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICAgIH1cbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xuICAgICAgdGhpcy50b2dnbGVMaWtlKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2FyZEVsZW1lbnQoKSB7XG4gICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpLmNvbnRlbnRcbiAgICAgIC5maXJzdEVsZW1lbnRDaGlsZDtcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgY29uc3QgY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcblxuICAgIGNhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIGNhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cbiAgICB0aGlzLmhhbmRsZUxpa2VCdXR0b24odGhpcy5faXNMaWtlZCk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9vcHRpb25zLmlucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fb3B0aW9ucy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX29wdGlvbnMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9vcHRpb25zLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9vcHRpb25zLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX29wdGlvbnMuZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVsZW1lbnRzLmV2ZXJ5KFxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXG4gICAgKTtcbiAgfVxuXG4gIGRpc2FibGVTdWJtaXRCdXR0b24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fb3B0aW9ucy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9O1xuXG4gIF9lbmFibGVTdWJtaXRCdXR0b24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fb3B0aW9ucy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRFbGVtZW50cykpIHtcbiAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbmFibGVTdWJtaXRCdXR0b24oKTtcbiAgICB9XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjYXJkU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXJkU2VsZWN0b3IpO1xuICB9XG5cbiAgLy9yZW5kZXIgYWxsIGVsZW1lbnRzIG9uIHRoZSBwYWdlXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gYWRkcyBhbiBlbGVtZW50IHRvIHRoZSBjb250YWluZXJcbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wVXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcFVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wVXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3BVcEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3BVcEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZSkge1xuICAgIGlmIChlLnR5cGUgPT09IFwia2V5ZG93blwiICYmIGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy8gZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgcG9wdXAgY2xvc2UgYnV0dG9uIGFuZCBjbGlja2luZyBvdXRzaWRlIHRvIGNsb3NlXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3BVcEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9wb3BVcEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NOYW1lID09PSBcIm1vZGFsIG1vZGFsX29wZW5lZFwiKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcFVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3BVcFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3BVcEZvcm0gPSB0aGlzLl9wb3BVcEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3BVcEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gIH1cblxuICBzZXRMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQ7XG4gICAgfVxuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIC8vIGNvbGxlY3RzIGRhdGEgZnJvbSBhbGwgaW5wdXQgZmllbGRzIGFuZCByZXR1cm5zIGl0IGFzIG9iamVjdFxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgY29uc3QgaW5wdXRGaWVsZHMgPSB0aGlzLl9wb3BVcEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XG4gICAgaW5wdXRGaWVsZHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3BVcEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5zZXRMb2FkaW5nKHRydWUpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLy9kYXRhXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcbiAgfSxcbl07XG5cbi8vdmFsaWRhdGlvblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wiZWRpdC1wcm9maWxlLWZvcm1cIl07XG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJhZGQtY2FyZC1mb3JtXCJdO1xuZXhwb3J0IGNvbnN0IGF2YXRhckVkaXRGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wiZWRpdC1hdmF0YXItZm9ybVwiXTtcblxuLy9CdXR0b25zIGFuZCBvdGhlciBEb20gbm9kZXNcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBhZGROZXdDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IGVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF2YXRhcl9fZWRpdC1pY29uXCIpO1xuXG4vL0Zvcm0gRGF0YVxuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuIiwiaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BUEkuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cENvbmZpcm1hdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIGNvbmZpZyxcbiAgcHJvZmlsZUZvcm1FbGVtZW50LFxuICBhZGRDYXJkRm9ybUVsZW1lbnQsXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxuICBhZGROZXdDYXJkQnV0dG9uLFxuICBwcm9maWxlVGl0bGVJbnB1dCxcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXG4gIGVkaXRBdmF0YXJCdXR0b24sXG4gIGF2YXRhckVkaXRGb3JtRWxlbWVudCxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG4vLyBBcGlcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcImMwMGQyNWU0LWU0OTgtNGUzZi1hMGE5LTczNWNiMzdhN2JiNFwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vdmFsaWRhdG9yc1xuY29uc3QgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlRm9ybUVsZW1lbnQpO1xuZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYWRkQ2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgYWRkQ2FyZEZvcm1FbGVtZW50KTtcbmFkZENhcmRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBhdmF0YXJFZGl0Rm9ybUVsZW1lbnQpO1xuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vQ0FSRCBGVU5DVElPTlNcblxuLy9nZXQgaW5pdGlhbCBjYXJkc1xubGV0IHNlY3Rpb247XG5hcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChjYXJkcykgPT4ge1xuICAgIHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgICAgIHtcbiAgICAgICAgaXRlbXM6IGNhcmRzLFxuICAgICAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XG4gICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcbiAgICAgICAgICBzZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIFwiLmNhcmRzX19saXN0XCJcbiAgICApO1xuXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcblxuLy9saWtlIGFuZCBkaXNsaWtlIGEgY2FyZFxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcbiAgaWYgKGNhcmQuX2lzTGlrZWQpIHtcbiAgICBhcGlcbiAgICAgIC5kaXNsaWtlQ2FyZChjYXJkLl9pZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC50b2dnbGVMaWtlKCk7XG4gICAgICAgIGNhcmQuX2lzTGlrZWQgPSBmYWxzZTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvbiBDYXJkIERpc2xpa2UgJHtlcnJ9YCk7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBhcGlcbiAgICAgIC5saWtlQ2FyZChjYXJkLl9pZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC50b2dnbGVMaWtlKCk7XG4gICAgICAgIGNhcmQuX2lzTGlrZWQgPSB0cnVlO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG9uIENhcmQgTGlrZSAke2Vycn1gKTtcbiAgICAgIH0pO1xuICB9XG59XG5cbi8vYWRkIGNhcmQgZnVuY3Rpb25hbGl0eVxuY29uc3QgY3JlYXRlQ2FyZCA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBkYXRhLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICBoYW5kbGVJbWFnZVByZXZpZXcsXG4gICAgaGFuZGxlRGVsZXRlQ2FyZCxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKTtcbiAgcmV0dXJuIGNhcmQuZ2V0Q2FyZEVsZW1lbnQoKTtcbn07XG5cbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNhZGQtY2FyZC1tb2RhbFwiLFxuICBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdFxuKTtcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5hZGROZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGFkZENhcmRQb3B1cC5vcGVuKCk7XG59KTtcblxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXQoZGF0YSkge1xuICBjb25zdCBuYW1lID0gZGF0YS50aXRsZS50cmltKCk7XG4gIGNvbnN0IGxpbmsgPSBkYXRhLmxpbmsudHJpbSgpO1xuICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbiAgYWRkQ2FyZEZvcm1FbGVtZW50LnJlc2V0KCk7XG4gIGFkZENhcmRWYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICBhcGlcbiAgICAuY3JlYXRlQ2FyZCh7IG5hbWUsIGxpbmsgfSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChyZXMpO1xuICAgICAgc2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgYWRkQ2FyZFBvcHVwLnNldExvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vL3ByZXZpZXcgY2FyZCBpbWFnZSBmdW5jdGlvbmFsaXR5XG5jb25zdCBwcmV2aWV3SW1hZ2VNb2RhbCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIpO1xucHJldmlld0ltYWdlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VQcmV2aWV3KGNhcmQpIHtcbiAgcHJldmlld0ltYWdlTW9kYWwub3BlbihjYXJkKTtcbn1cblxuLy9kZWxldGUgY2FyZCBmdW5jdGlvbmFsaXR5XG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDYXJkKGNhcmRJZCwgY2FyZEVsZW1lbnQpIHtcbiAgZGVsZXRlTW9kYWxDb25maXJtYXRpb24ub3BlbihjYXJkSWQsIGNhcmRFbGVtZW50KTtcbiAgY29uc29sZS5sb2coY2FyZElkLCBjYXJkRWxlbWVudCk7XG59XG5cbmNvbnN0IGRlbGV0ZU1vZGFsQ29uZmlybWF0aW9uID0gbmV3IFBvcHVwQ29uZmlybWF0aW9uKFxuICBcIiNtb2RhbC1jb25maXJtXCIsXG4gIChjYXJkSWQsIGNhcmRFbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIGFwaS5kZWxldGVDYXJkKGNhcmRJZCkudGhlbigoKSA9PiB7XG4gICAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfVxuKTtcblxuLy9VU0VSIElORk8gRlVOQ1RJT05TXG5cbi8vZ2V0IHVzZXIgaW5mb1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lOiBcIi5wcm9maWxlX190aXRsZVwiLFxuICBkZXNjcmlwdGlvbjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXG59KTtcblxuYXBpXG4gIC5nZXRVc2VySW5mbygpXG4gIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogdXNlckRhdGEuYWJvdXQsXG4gICAgICBhdmF0YXI6IHVzZXJEYXRhLmF2YXRhcixcbiAgICB9KTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cbi8vZWRpdCBwcm9maWxlIGZ1bmN0aW9uYWxpdHlcbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0XG4pO1xuZWRpdFByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdChkYXRhKSB7XG4gIGFwaVxuICAgIC5lZGl0VXNlckluZm8oe1xuICAgICAgbmFtZTogZGF0YS50aXRsZSxcbiAgICAgIGFib3V0OiBkYXRhLmRlc2NyaXB0aW9uLFxuICAgIH0pXG4gICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB1c2VyRGF0YS5hYm91dCxcbiAgICAgICAgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXIsXG4gICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIHVzZXJzIGluZm86ICR7ZXJyfWApKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGVkaXRQcm9maWxlUG9wdXAuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG5cbiAgZWRpdFByb2ZpbGVQb3B1cC5jbG9zZSgpO1xufVxuXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCBjdXJyZW50VXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby5uYW1lO1xuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby5kZXNjcmlwdGlvbjtcbiAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KTtcblxuLy8gZWRpdCB1c2VyIGF2YXRhciBmdW5jdGlvbmFsaXR5XG5jb25zdCBlZGl0QXZhdGFyTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjZWRpdC1hdmF0YXItbW9kYWxcIixcbiAgaGFuZGxlQXZhdGFyRWRpdEZvcm1TdWJtaXRcbik7XG5lZGl0QXZhdGFyTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBlZGl0QXZhdGFyTW9kYWwub3BlbigpO1xufSk7XG5cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckVkaXRGb3JtU3VibWl0KGZvcm1EYXRhKSB7XG4gIGNvbnN0IGF2YXRhclVybCA9IGZvcm1EYXRhLmF2YXRhcjtcbiAgYXZhdGFyRWRpdEZvcm1FbGVtZW50LnJlc2V0KCk7XG4gIGVkaXRBdmF0YXJNb2RhbC5jbG9zZSgpO1xuICBhcGlcbiAgICAuZWRpdFVzZXJBdmF0YXIoYXZhdGFyVXJsKVxuICAgIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YS5hdmF0YXIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgZWRpdEF2YXRhck1vZGFsLnNldExvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9nZXRSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgLy8gQ0FSRCBGVU5DVElPTlNcblxuICAvLyBHZXQgaW5pdGlhbCBjYXJkc1xuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB9KS50aGVuKHRoaXMuX2dldFJlc3BvbnNlKTtcbiAgfVxuXG4gIC8vQWRkaW5nIGEgbmV3IGNhcmRcbiAgY3JlYXRlQ2FyZChjYXJkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJkKSxcbiAgICB9KS50aGVuKHRoaXMuX2dldFJlc3BvbnNlKTtcbiAgfVxuXG4gIC8vIERlbGV0aW5nIGEgY2FyZFxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2UpO1xuICB9XG5cbiAgLy8gTGlraW5nIGFuZCBkaXNsaWtpbmcgY2FyZHNcbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZSk7XG4gIH1cblxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KS50aGVuKHRoaXMuX2dldFJlc3BvbnNlKTtcbiAgfVxuXG4gIC8vIFVTRVIgSU5GTyBGVU5DVElPTlNcblxuICAvL0dldHRpbmcgdXNlciBpbmZvXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZSk7XG4gIH1cblxuICAvLyBFZGl0aW5nIHVzZXIgaW5mb1xuICBlZGl0VXNlckluZm8odXNlckRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSksXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZSk7XG4gIH1cblxuICAvLyBFZGl0aW5nIHVzZXIgYXZhdGFyXG4gIGVkaXRVc2VyQXZhdGFyKGF2YXRhclVybCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogYXZhdGFyVXJsIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2UpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcFVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3BVcFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3BVcEltYWdlID0gdGhpcy5fcG9wVXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5tb2RhbF9fcHJldmlldy1pbWFnZVwiXG4gICAgKTtcbiAgICB0aGlzLl9wb3BVcFRpdGxlID0gdGhpcy5fcG9wVXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5tb2RhbF9fcHJldmlldy1pbWFnZS1oZWFkaW5nXCJcbiAgICApO1xuICB9XG5cbiAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xuICAgIC8vIHNldCB0aGUgaW1hZ2UncyBzcmMgYW5kIGFsdFxuICAgIHRoaXMuX3BvcFVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3BVcEltYWdlLmFsdCA9IG5hbWU7XG5cbiAgICAvLyBzZXQgdGhlIGNhcHRpb24ncyB0ZXh0Q29udGVudFxuICAgIHRoaXMuX3BvcFVwVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuLy8gQ3JlYXRpbmcgYSBwb3B1cCBmb3IgZGVsZXRpbmcgYSBjYXJkXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wVXBTZWxlY3RvciwgaGFuZGxlQ29uZmlybWF0aW9uKSB7XG4gICAgc3VwZXIocG9wVXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29uZmlybWF0aW9uLW1vZGFsLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9oYW5kbGVDb25maXJtYXRpb24gPSBoYW5kbGVDb25maXJtYXRpb247XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIG9wZW4oY2FyZElkLCBjYXJkRWxlbWVudCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2NvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNvbmZpcm1hdGlvbih0aGlzLl9jYXJkSWQsIHRoaXMuX2NhcmRFbGVtZW50KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBEZWxldGluZyBDYXJkXCIsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgZGVzY3JpcHRpb24sIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb24pO1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIGNvbnN0IHVzZXJJbmZvID0ge307XG4gICAgdXNlckluZm8ubmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XG4gICAgdXNlckluZm8uZGVzY3JpcHRpb24gPSB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcbiAgICB1c2VySW5mby5hdmF0YXIgPSB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYztcbiAgICByZXR1cm4gdXNlckluZm87XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXIgfSkge1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG4gICAgdGhpcy5zZXRVc2VyQXZhdGFyKGF2YXRhcik7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKGF2YXRhclVybCkge1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyVXJsO1xuICB9XG59XG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiY2FyZERhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZVByZXZpZXciLCJoYW5kbGVEZWxldGVDYXJkIiwiaGFuZGxlTGlrZUNsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9pZCIsIl9pc0xpa2VkIiwiaXNMaWtlZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VQcmV2aWV3IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVMaWtlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaGFuZGxlTGlrZUJ1dHRvbiIsInVuZGVmaW5lZCIsImdldENhcmRFbGVtZW50IiwiY2FyZFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjbG9uZU5vZGUiLCJjYXJkSW1hZ2UiLCJjYXJkVGl0bGUiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJvcHRpb25zIiwiZm9ybUVsZW1lbnQiLCJfb3B0aW9ucyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dEVsZW1lbnRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2VFbGVtZW50IiwiaWQiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yQ2xhc3MiLCJfaGlkZUlucHV0RXJyb3IiLCJyZW1vdmUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJldmVyeSIsImRpc2FibGVTdWJtaXRCdXR0b24iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiX3RvZ2dsZUJ1dHRvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJmb3JFYWNoIiwiZSIsInByZXZlbnREZWZhdWx0IiwicmVzZXRWYWxpZGF0aW9uIiwiU2VjdGlvbiIsIl9yZWYiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wVXBTZWxlY3RvciIsIl9wb3BVcEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInR5cGUiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsIl9jbG9zZUJ1dHRvbiIsInRhcmdldCIsImNsYXNzTmFtZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wVXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfc3VibWl0QnV0dG9uVGV4dCIsInNldExvYWRpbmciLCJpc0xvYWRpbmciLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJwcm9maWxlRm9ybUVsZW1lbnQiLCJmb3JtcyIsImFkZENhcmRGb3JtRWxlbWVudCIsImF2YXRhckVkaXRGb3JtRWxlbWVudCIsInByb2ZpbGVFZGl0QnV0dG9uIiwiYWRkTmV3Q2FyZEJ1dHRvbiIsImVkaXRBdmF0YXJCdXR0b24iLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2dldFJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsImNyZWF0ZUNhcmQiLCJjYXJkIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwibGlrZUNhcmQiLCJkaXNsaWtlQ2FyZCIsImdldFVzZXJJbmZvIiwiZWRpdFVzZXJJbmZvIiwidXNlckRhdGEiLCJlZGl0VXNlckF2YXRhciIsImF2YXRhclVybCIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJhZGRDYXJkVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsInNlY3Rpb24iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImNhcmRzIiwiY2FyZEVsZW1lbnQiLCJkYXRhIiwiYWRkQ2FyZFBvcHVwIiwidGl0bGUiLCJ0cmltIiwicmVzZXQiLCJmaW5hbGx5IiwicHJldmlld0ltYWdlTW9kYWwiLCJfcG9wVXBJbWFnZSIsIl9wb3BVcFRpdGxlIiwiZGVsZXRlTW9kYWxDb25maXJtYXRpb24iLCJsb2ciLCJoYW5kbGVDb25maXJtYXRpb24iLCJfY29uZmlybUJ1dHRvbiIsIl9oYW5kbGVDb25maXJtYXRpb24iLCJfY2FyZElkIiwidXNlckluZm8iLCJkZXNjcmlwdGlvbiIsImF2YXRhclNlbGVjdG9yIiwiX2Rlc2NyaXB0aW9uIiwiX2F2YXRhckVsZW1lbnQiLCJzZXRVc2VySW5mbyIsIl9yZWYyIiwic2V0VXNlckF2YXRhciIsImFib3V0IiwiZWRpdFByb2ZpbGVQb3B1cCIsImN1cnJlbnRVc2VySW5mbyIsImVkaXRBdmF0YXJNb2RhbCIsImZvcm1EYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==